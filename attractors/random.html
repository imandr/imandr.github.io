<html>

<head>
    <link rel="stylesheet" type="text/css" href="common.css">
    <script src="gpu-browser.js"></script>
    <script src="drift.js"></script>
    <script src="canvas.js"></script>
    <script src="attractor_base.js"></script>
    <script src="attractors.js"></script>
    <script src="animations.js"></script>
    
</head>

<body class="noscroll">
    
    <canvas id="canvas"></canvas>
    <script>
        class Dueling extends DuelingAttractorsAnimation
        {
            constructor(canvas_element, options)
            {
                const i = Math.floor(Math.random() * 4);
                const att = [
                    DeJongAttractor, QExpAttractor, CubicAttractor, TanhAttractor, HyperAttractor
                ];
                super(20000, canvas_element, att[i], options);
            }
        }

        options = {
            beta: 0.2
        };
        
        if( Math.random() < 0.25 )
        {
            options.beta = 0.2;
            options.attractors = [
                    {
                        kick: 0.02
                    }
                ];
        }
        else if( Math.random() < 0.33 )
        {
            options.beta = 0.01;
        }
        let q = new Dueling(document.getElementById("canvas"), options);
        q.start();
    </script>
</body>
</html>